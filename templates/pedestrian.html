<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>보행자 모드</title>
</head>
<body>
  <h1>보행자 모드 - 운전자 위치 보기</h1>
  <p id="location">위치 데이터를 불러오는 중...</p>

  <script>
    function fetchDriverLocation() {
      fetch('/get_location')
        .then(response => {
          if (!response.ok) throw new Error('위치 데이터 없음');
          return response.json();
        })
        .then(data => {
          document.getElementById('location').textContent =
            `운전자의 위치 - 위도: ${data.lat.toFixed(6)}, 경도: ${data.lng.toFixed(6)}`;
        })
        .catch(err => {
          document.getElementById('location').textContent = '위치 정보를 찾을 수 없습니다.';
        });
    }

    fetchDriverLocation();
    setInterval(fetchDriverLocation, 5000); // 5초마다 갱신
  </script>
</body>
</html>